<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cole's Path to Success</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .form-group { margin-bottom: 1em; }
    input, textarea {
      width: 100%;
      padding: 0.75em;
      background-color: #2c2c2c;
      border: 1px solid #555;
      color: #f5f5f5;
      border-radius: 4px;
      font-size: 1em;
    }
    textarea { resize: vertical; min-height: 80px; }
    #form-status { text-align: center; font-size: 0.95em; margin-top: 1em; }
  </style>
</head>
<body>
  <header>
    <h1>Cole's Path to Success</h1>
    <p>Fueling ambition, one brick at a time.</p>
    <a href="#donate" class="cta-button">Donate Now</a>
  </header>

  <section id="about">
    <h2>Meet Cole</h2>
    <p>Hi, I’m Cole Tyler. For the past four years, I’ve been a full-time engineering student at a magnet high school and now I’m on my way to college. During summer, I worked three jobs, from cleaning beaches before sunrise to sprinting between restaurant tables after dark. On top of that, I’ve stayed active in sports and my community. I’m not asking for a handout, I’m building something real and inviting you to be part of it. Every contribution goes directly toward my education and helps me push further. This is a team effort and a shared journey that’s paving the path I’m walking.</p>
  </section>

  <section id="donate">
    <h2>Donation Tiers</h2>
    <ul>
      <li><strong>$5 – Bricklayer:</strong> Your name on my digital brick path</li>
      <li><strong>$10 – Custom Brick:</strong> Add a message on your brick</li>
      <li><strong>$15 – Pen Pal:</strong> Handwritten thank-you letter</li>
      <li><strong>$30 – Maker:</strong> Small 3D printed gift</li>
      <li><strong>$60 – Teammate:</strong> Biweekly college journey newsletter</li>
      <li><strong>$100+ – Champion:</strong> Special honor on the path + all previous</li>
    </ul>
    <p>Recurring donations? Just use the same name/email and your brick will grow.</p>

    <div class="progress-bar">
  <div class="progress-fill"></div>
  <span class="progress-label">$0 raised</span>
</div>
<small style="display:block; text-align:center; margin-top:0.5em;">Goal: $60,000 for tuition, books, and housing</small>


    <h3 style="margin-top: 2em;">Submit Your Info</h3>
<form 
  action="https://script.google.com/macros/s/AKfycbz7izm4unTTinRvV6HwYgJXCKgToKbNhNSdIpQt46a5yNQBmZsl8sD7mtfUqS7fI9j_FQ/exec" 
  method="POST" 
  target="hidden_iframe" 
  onsubmit="document.getElementById('form-status').textContent = '✅ Info submitted! Thank you!';">

  <div class="form-group">
    <input type="text" name="name" placeholder="Your Name" required />
  </div>
  <div class="form-group">
    <input type="email" name="email" placeholder="Your Email" required />
  </div>
  <div class="form-group">
    <input type="number" name="amount" placeholder="Donation Amount (USD)" required />
  </div>
  <div class="form-group">
    <textarea name="message" placeholder="Message for your brick (optional)"></textarea>
  </div>
  <div class="form-group">
    <input type="text" name="referral" placeholder="Referral Code (optional)" />
  </div>
  <button type="submit" class="cta-button">Submit Info</button>
</form>

<iframe name="hidden_iframe" style="display:none;"></iframe>
<div id="form-status"></div>


    <a href="https://paypal.me/coletyler" class="cta-button" style="margin-top: 2em;">Donate via PayPal</a>
  </section>

  <section id="wall">
    <h2>Path to Success Wall</h2>
    <div class="brick-wall">
      <div class="brick" data-referrals="1" title="1 referral">Name1</div>
      <div class="brick" data-referrals="3" title="3 referrals">Name2</div>
      <div class="brick" data-referrals="4" title="4 referrals">Name3</div>
    </div>
  </section>

  <section id="newsletter">
    <h2>Teammate Newsletter</h2>
    <p>Donors at $60+ get exclusive biweekly updates about my college experience. Inside info on the challenges and success behind-the-scenes.</p>
  </section>

  <section id="referrals">
    <h2>Referral Program</h2>
    <p>Share your referral code. When someone donates through it, your brick gets a new color and referral count!</p>
  </section>

  <section id="transparency">
    <h2>Transparency & Ethics</h2>
    <p>Every dollar goes directly to college costs: tuition + room and board. None of the funds are used for anything else. Google Analytics is used to understand website traffic and no personal data is veiwed by a third party.</p>
  </section>

  <footer>
    <p>&copy; 2025 Cole Tyler | <a href="#transparency" style="color:white;">Transparency</a></p>
  </footer>

  <script>
const GOAL = 60000; // your goal in USD

window.addEventListener("DOMContentLoaded", () => {
  fetch("https://script.google.com/macros/s/AKfycbz7izm4unTTinRvV6HwYgJXCKgToKbNhNSdIpQt46a5yNQBmZsl8sD7mtfUqS7fI9j_FQ/exec")
    .then(res => res.json())
    .then(data => {
      const total = data.total || 0;
      const percent = Math.min((total / GOAL) * 100, 100);
      document.querySelector(".progress-fill").style.width = percent + "%";
      document.querySelector(".progress-label").textContent = `$${total.toFixed(2)} raised`;
    })
    .catch(err => {
      console.error("Error fetching donation progress:", err);
      document.querySelector(".progress-label").textContent = "Unable to load progress";
    });
});
</script>

  <script>
fetch("https://script.google.com/macros/s/AKfycbz7izm4unTTinRvV6HwYgJXCKgToKbNhNSdIpQt46a5yNQBmZsl8sD7mtfUqS7fI9j_FQ/exec=true")
  .then(res => res.json())
  .then(data => {
    const wall = document.querySelector(".brick-wall");
    wall.innerHTML = ""; // clear demo bricks

    data.bricks.forEach(brick => {
      const el = document.createElement("div");
      el.classList.add("brick");
      el.textContent = brick.name;

      if (brick.count >= 1) {
        el.setAttribute("data-referrals", brick.count);
        el.title = `${brick.count} referral${brick.count > 1 ? "s" : ""}`;
      }

      wall.appendChild(el);
    });
  })
  .catch(err => {
    console.error("Error loading brick wall:", err);
  });
</script>

</body>
</html>
